import GoogleProvider from 'next-auth/providers/google'

export const authOptions= {
    providers:[
        GoogleProvider({
            clientId: process.env.GOOGLE_CLIENT_ID || '',
            clientSecret: process.env.GOOGLE_CLIENT_SECRET || ''
        })
    ],
    secret: process.env.NEXTAUTH_SECRET,
    session: {strategy: 'jwt'},
    callback: {
        async session ({session,token}){
            if(token){
                session.user= session.user || {}
                session.user.email= token.email || session.user.email
            }
            return session
        }
    }

}
